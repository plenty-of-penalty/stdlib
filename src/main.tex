\documentclass[titlepage, a4paper]{article}
%\usepackage{euler}
\usepackage{graphicx, amssymb, amsmath, textcomp, booktabs}
\usepackage[libertine,vvarbb]{newtxmath}
\usepackage[scr=rsfso]{mathalfa}
% \usepackage[lining,semibold,type1]{libertine} % a bit lighter than Times--no osf in math
\usepackage[T1]{fontenc} % best for Western European languages
\usepackage{minted}
\usepackage{listings, color, setspace, titlesec, fancyhdr, mdframed, multicol}
\usepackage{ucharclasses}
\usepackage{xunicode, xltxtra}
\usepackage[inner=1.35cm, outer=0.9cm, top=1.7cm, bottom=0.0cm]{geometry}
\usepackage{pdfpages}
\usepackage{tocloft}
\usepackage{nameref}
\usepackage{verbatim}
\usepackage{relsize}
\usepackage{fontspec}
\usepackage[colorlinks, linkcolor = black]{hyperref}
\usepackage[table]{xcolor}
\usepackage{tabularx}
\usepackage{enumitem}
% configure fonts
% if not using CJK
% \newfontfamily\substitutefont{SimSun}[Scale=0.8,BoldFont=SimHei]
% \setTransitionsForChinese{\begingroup\substitutefont}{\endgroup}
\usepackage{xeCJK}
\setCJKmainfont{Source Han Serif SC}[Scale=0.95]
\setCJKmonofont{SimHei}[Scale=0.95]
\setCJKsansfont{KaiTi}[Scale=0.95]
\setmainfont{Linux Libertine O}[Scale=1]
\setmonofont{Consolas}[Scale=0.875]
%\setsansfont{Gill Sans Medium}

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt

\setlength{\parindent}{0em}\setlength{\parskip}{1pt}
\setlength\itemsep{1pt}

\makeatletter
\renewcommand{\paragraph}{%
  \@startsection{paragraph}{4}%
  {\z@}{1pt \@plus 1pt \@minus 1pt}{-1em}%
  {\normalfont\normalsize\bfseries}%
}
\makeatother

%configure the top corners
\pagestyle{fancy}
\setlength{\headsep}{0.1cm}

\chead{十发罚时 (Plenty of Penalty)}
\rhead{Page \thepage}
\lhead{浙江大学 Zhejiang University}
 
%configure space between the two columns
\setlength{\columnsep}{18pt}

%configure minted to display codes
%\definecolor{Gray}{rgb}{0.9,0.9,0.9}

%remove leading numbers in table of contents
%\setcounter{secnumdepth}{0}	

%configure section style of table of content
\renewcommand\cftsecfont{\Large}

%configure section style
\titleformat{\section}
{\huge}			% The style of the section title
{\thesection.}				% a prefix
{5pt}						% How much space exists between the prefix and the title
{}					% How the section is represented
% \titleformat{\section}{\huge}{}{0pt}{}
\titlespacing{\section}{0pt}{0pt}{0pt}
\titlespacing{\subsection}{0pt}{0pt}{0pt}
\titlespacing{\subsubsection}{0pt}{0pt}{0pt}

%enable section to start new page automatically
%\let\stdsection\section
%\renewcommand\section{\penalty-100\vfilneg\stdsection}

%\renewcommand\theFancyVerbLine{\arabic{FancyVerbLine}}
\renewcommand{\theFancyVerbLine}{\sffamily \textcolor[rgb]{0.5,0.5,0.5}{\scriptsize {\arabic{FancyVerbLine}}}}

\setminted[cpp]{
	style=xcode,
	mathescape,
	linenos,
	autogobble,
	baselinestretch=0.8,
	tabsize=3,
	fontsize=\normalsize,
	%bgcolor=Gray,
	frame=single,
	framesep=1mm,
	framerule=0.3pt,
	numbersep=1mm,
	breaklines=true,
	breaksymbolsepleft=2pt,
	%breaksymbolleft=\raisebox{0.8ex}{ \small\reflectbox{\carriagereturn}}, %not moe!
	%breaksymbolright=\small\carriagereturn,
	breakbytoken=false,
	showtabs=true,
	tab={\relscale{0.6} $\big\vert \ \ \ $ \relscale{1}},
}
\setminted[java]{
	style=xcode,
	mathescape,
	linenos,
	autogobble,
	baselinestretch=0.8,
	tabsize=3,
	fontsize=\normalsize,
	%bgcolor=Gray,
	frame=single,
	framesep=1mm,
	framerule=0.3pt,
	numbersep=1mm,
	breaklines=true,
	breaksymbolsepleft=2pt,
	%breaksymbolleft=\raisebox{0.8ex}{ \small\reflectbox{\carriagereturn}}, %not moe!
	%breaksymbolright=\small\carriagereturn,
	breakbytoken=false,
	showtabs=true,
	tab={\relscale{0.6} $\big\vert \ \ \ $ \relscale{1}},
}
\setminted[python]{
	style=xcode,
	mathescape,
	linenos,
	autogobble,
	baselinestretch=0.8,
	tabsize=3,
	fontsize=\normalsize,
	%bgcolor=Gray,
	frame=single,
	framesep=1mm,
	framerule=0.3pt,
	numbersep=1mm,
	breaklines=true,
	breaksymbolsepleft=2pt,
	%breaksymbolleft=\raisebox{0.8ex}{ \small\reflectbox{\carriagereturn}}, %not moe!
	%breaksymbolright=\small\carriagereturn,
	breakbytoken=false,
	showtabs=true,
	tab={\relscale{0.6} $\big\vert \ \ \ $ \relscale{1}},
}
\setminted[vim]{
	style=xcode,
	mathescape,
	linenos,
	autogobble,
	baselinestretch=0.8,
	tabsize=2,
	fontsize=\normalsize,
	%bgcolor=Gray,
	frame=single,
	framesep=1mm,
	framerule=0.3pt,
	numbersep=1mm,
	breaksymbolsepleft=2pt,
	%breaksymbolleft=\raisebox{0.8ex}{ \small\reflectbox{\carriagereturn}}, %not moe!
	%breaksymbolright=\small\carriagereturn,
	breakbytoken=false,
}
\setminted[sh]{
	style=xcode,
	mathescape,
	linenos,
	autogobble,
	baselinestretch=0.8,
	tabsize=2,
	fontsize=\normalsize,
	%bgcolor=Gray,
	frame=single,
	framesep=1mm,
	framerule=0.3pt,
	numbersep=1mm,
	breaklines=true,
	breaksymbolsepleft=2pt,
	%breaksymbolleft=\raisebox{0.8ex}{ \small\reflectbox{\carriagereturn}}, %not moe!
	%breaksymbolright=\small\carriagereturn,
	breakbytoken=false,
}

\setlist[itemize]{noitemsep}

%THE SCL BEGINS
\begin{document}
	\begin{titlepage}
		\input{cover/cover.tex}
	\end{titlepage}
	\begin{multicols}{2}
		\setcounter{tocdepth}{3}
		\begingroup
		\let\cleardoublepage\relax
		\let\clearpage\relax
		\begin{spacing}{0.8}
		\tableofcontents
		\end{spacing}
		\newpage
		
		\begin{spacing}{0.6}
			
\section{DataStructure}
\section{Tree}
\subsection{性质}
\input{Tree/性质.tex}
\section{Graph}
\subsection{最大流}
\inputminted{cpp}{tmp/Graph/最大流.cpp}
\subsection{最小费用最大流}
\inputminted{cpp}{tmp/Graph/最小费用最大流.cpp}
\section{Math}
\subsection{分治NTT}
\inputminted{cpp}{tmp/Math/分治NTT.cpp}
\subsection{多项式全家桶}
\inputminted{cpp}{tmp/Math/多项式全家桶.cpp}
\section{String}
\subsection{后缀树组@xry}
\inputminted{cpp}{tmp/String/后缀树组@xry.cpp}
\subsection{后缀自动机@xry}
\inputminted{cpp}{tmp/String/后缀自动机@xry.cpp}
\subsection{后缀自动机@wh}
\inputminted{cpp}{tmp/String/后缀自动机@wh.cpp}
\subsection{回文自动机@wh}
\inputminted{cpp}{tmp/String/回文自动机@wh.cpp}
\subsection{Runs}
\inputminted{cpp}{tmp/String/Runs.cpp}
\section{Geometry}
\subsection{计算几何全家桶}
\inputminted{cpp}{tmp/Geometry/计算几何全家桶.cpp}
\section{DP}
\subsection{斜率优化}
\inputminted{cpp}{tmp/DP/斜率优化.cpp}
\section{Misc}
\subsection{模拟退火}
\inputminted{cpp}{tmp/Misc/模拟退火.cpp}
\subsection{线性递推（BM）}
\input{Misc/线性递推（BM）.tex}
\inputminted{cpp}{tmp/Misc/线性递推（BM）.cpp}
\section{Tricks}
\subsection{随机数}
\input{Tricks/随机数.tex}
\subsection{在线浮点数求和}
\inputminted{cpp}{Tricks/在线浮点数求和.hpp}
\section{Appendix}

				
		\begin{comment}
		\end{comment}
		
		\end{spacing}
		\endgroup
	\end{multicols}
	\begin{center}
		\LARGE{We can and we will.}
	\end{center}
	
\end{document}
%THE SCL ENDS
